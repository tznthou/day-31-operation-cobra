# ç¨‹å¼ç¢¼å¯©æŸ¥å ±å‘Š - Operation Cobra
ç”¢ç”Ÿæ™‚é–“ï¼š2025-12-29
å¯©æŸ¥è€…ï¼šClaude Code Review Expert
å¯©æŸ¥æª”æ¡ˆï¼š
- `index.html` (35 è¡Œ)
- `game.js` (240 è¡Œ)
- `style.css` (1635 è¡Œ)
- `games/snake.js` (201 è¡Œ)
- `games/game2048.js` (301 è¡Œ)
- `skins/*.js` (6 å€‹çš®è†šæ¨¡çµ„ï¼Œç´„ 800 è¡Œ)

---

## ç¸½é«”æ‘˜è¦
**æ•´é«”ç¨‹å¼ç¢¼å“è³ª**ï¼šè‰¯å¥½
**é¢¨éšªç­‰ç´š**ï¼šä½
**å»ºè­°è¡Œå‹•**ï¼šå¯ä»¥éƒ¨ç½²ï¼Œä½†å»ºè­°ä¿®æ­£ä¸­å„ªå…ˆç´šå•é¡Œä»¥æå‡é•·æœŸå¯ç¶­è­·æ€§

é€™æ˜¯ä¸€å€‹è¨­è¨ˆå·§å¦™çš„ã€Œå½è£éŠæˆ²ã€å°ˆæ¡ˆï¼Œå°‡è²ªé£Ÿè›‡å’Œ 2048 éš±è—åœ¨ä»¿å·¥ä½œä»‹é¢çš„çš®è†šä¸­ã€‚æ¶æ§‹æ¸…æ™°ï¼Œæ¨¡çµ„åŒ–è‰¯å¥½ï¼Œä½†æœ‰ä¸€äº›æ½›åœ¨çš„ bugã€æ•ˆèƒ½è€ƒé‡å’Œå¯ç¶­è­·æ€§å•é¡Œéœ€è¦è™•ç†ã€‚

---

## å•é¡Œç¸½è¦½
| é¡åˆ¥ | åš´é‡ | é«˜ | ä¸­ | ä½ | ç¸½è¨ˆ |
|------|------|-------|--------|-----|-------|
| å®‰å…¨æ€§ | 0 | 0 | 1 | 0 | 1 |
| Bug/æ­£ç¢ºæ€§ | 0 | 2 | 3 | 0 | 5 |
| æ•ˆèƒ½ | 0 | 0 | 2 | 1 | 3 |
| ç¨‹å¼ç¢¼ç•°å‘³ | 0 | 0 | 3 | 2 | 5 |
| å¯ç¶­è­·æ€§ | 0 | 0 | 2 | 3 | 5 |
| **ç¸½è¨ˆ** | **0** | **2** | **11** | **6** | **19** |

---

## ğŸŸ  é«˜å„ªå…ˆç´šå•é¡Œ

### [H01] è²ªé£Ÿè›‡è‡ªæˆ‘ç¢°æ’æª¢æ¸¬é‚è¼¯éŒ¯èª¤
**é¡åˆ¥**ï¼šBug/æ­£ç¢ºæ€§
**åš´é‡åº¦**ï¼šé«˜
**ä½ç½®**ï¼š`games/snake.js:159-171`

**å•é¡Œæè¿°**ï¼š
åœ¨ `checkCollision` å‡½å¼ä¸­ï¼Œè‡ªæˆ‘ç¢°æ’æª¢æ¸¬æœƒå°‡æ–°é ­éƒ¨ä½ç½®èˆ‡**æ•´æ¢è›‡ï¼ˆåŒ…å«å³å°‡åŠ å…¥çš„é ­éƒ¨æœ¬èº«ï¼‰**æ¯”å°ï¼Œé€™æœƒåœ¨è›‡é•·åº¦ç‚º 1 æ™‚èª¤åˆ¤ã€‚

```javascript
function checkCollision(head) {
  // ...
  // Self collision
  for (let i = 0; i < snake.length; i++) {
    if (head.x === snake[i].x && head.y === snake[i].y) {
      return true;  // ğŸ› Bug: ç•¶ snake.length === 1ï¼Œhead æœƒèˆ‡ snake[0] ç›¸ç­‰
    }
  }
  return false;
}
```

**ç‚ºä½•å¿…é ˆä¿®æ­£**ï¼š
ç•¶éŠæˆ²å‰›é–‹å§‹ï¼ˆè›‡é•·åº¦ = 3ï¼‰ï¼Œç¬¬ä¸€æ¬¡ç§»å‹•æ™‚æ–°é ­éƒ¨ä½ç½®å¯èƒ½èˆ‡è›‡èº«æŸæ®µé‡ç–Šï¼ˆç†è«–ä¸Šä¸å¤ªå¯èƒ½ï¼Œä½†é‚è¼¯ä¸æ­£ç¢ºï¼‰ã€‚æ›´åš´é‡çš„æ˜¯ï¼Œåœ¨æŸäº›é‚Šç•Œç‹€æ³ä¸‹å¯èƒ½å°è‡´èª¤åˆ¤éŠæˆ²çµæŸã€‚

**å¦‚ä½•ä¿®æ­£**ï¼š
```javascript
function checkCollision(head) {
  // Wall collision
  if (head.x < 0 || head.x >= GRID_COUNT || head.y < 0 || head.y >= GRID_COUNT) {
    return true;
  }
  // Self collision - æ‡‰è©²åªæª¢æŸ¥è›‡èº«ï¼Œä¸åŒ…å«é ­éƒ¨ï¼ˆå› ç‚ºé ­éƒ¨é‚„æ²’åŠ å…¥ï¼‰
  // ä½†å› ç‚ºæ˜¯åœ¨ update() ä¸­å…ˆè¨ˆç®—æ–°é ­å†æª¢æ¸¬ï¼Œæ‰€ä»¥æ‡‰è©²å¾ç´¢å¼• 0 é–‹å§‹æª¢æŸ¥ç¾æœ‰è›‡èº«
  // å¯¦éš›ä¸Šé€™è£¡çš„é‚è¼¯æ˜¯æ­£ç¢ºçš„ï¼Œå› ç‚º head æ˜¯ã€Œæ–°ã€é ­éƒ¨ï¼Œsnake é‚„æ˜¯èˆŠç‹€æ…‹
  // ä½†ç‚ºäº†æ¸…æ™°ï¼Œå»ºè­°åŠ è¨»è§£èªªæ˜æˆ–æ”¹å¯«ç‚ºï¼š
  return snake.some(segment => segment.x === head.x && segment.y === head.y);
}
```

**å¯¦éš›ç‹€æ³åˆ†æ**ï¼š
ç¶“éé‡æ–°æª¢è¦– `update()` æµç¨‹ï¼Œç™¼ç¾é‚è¼¯å…¶å¯¦æ˜¯æ­£ç¢ºçš„ï¼š
1. Line 128: è¤‡è£½èˆŠé ­éƒ¨å‰µå»ºæ–°é ­ `const head = { ...snake[0] }`
2. Line 129-134: æ ¹æ“šæ–¹å‘ç§»å‹•æ–°é ­åº§æ¨™
3. Line 137: æª¢æŸ¥ç¢°æ’ï¼ˆæ­¤æ™‚ `snake` é‚„æ˜¯èˆŠç‹€æ…‹ï¼Œä¸åŒ…å«æ–°é ­ï¼‰
4. Line 144: `snake.unshift(head)` æ‰å°‡æ–°é ­åŠ å…¥

æ‰€ä»¥é€™**ä¸æ˜¯ bug**ï¼Œä½†ç¨‹å¼ç¢¼å¯è®€æ€§ä¸ä½³ï¼Œå»ºè­°åŠ ä¸Šè¨»è§£èªªæ˜æª¢æŸ¥é †åºã€‚

**ä¿®æ­£å¾Œè©•ç´š**ï¼šå¾ã€Œé«˜ã€é™ç‚ºã€Œä½ã€ï¼ˆå¯ç¶­è­·æ€§å•é¡Œï¼‰

---

### [H02] æ™‚é˜æ›´æ–°æ©Ÿåˆ¶åœ¨éŠæˆ²é€²è¡Œä¸­æµªè²»è³‡æº
**é¡åˆ¥**ï¼šBug/æ­£ç¢ºæ€§
**åš´é‡åº¦**ï¼šé«˜
**ä½ç½®**ï¼š`game.js:169-173`

**å•é¡Œæè¿°**ï¼š
æ™‚é˜ `setInterval` æ°¸é åœ¨èƒŒæ™¯åŸ·è¡Œï¼Œå³ä½¿éŠæˆ²æ­£åœ¨é€²è¡Œï¼ˆwidget é¡¯ç¤ºä¸­ï¼‰ã€‚

```javascript
setInterval(() => {
  if (state === GameState.PAUSED) {
    updateClock();
  }
}, CLOCK_UPDATE_INTERVAL);
```

**ç‚ºä½•æ‡‰ä¿®æ­£**ï¼š
- **æ•ˆèƒ½æµªè²»**ï¼šæ¯ç§’åŸ·è¡Œä¸€æ¬¡ if åˆ¤æ–·ï¼ˆå³ä½¿ä¸éœ€è¦æ›´æ–°ï¼‰
- **åˆå§‹åŒ–å•é¡Œ**ï¼šé é¢è¼‰å…¥æ™‚æ™‚é˜é¡¯ç¤º `--:--:--`ï¼Œä½†åªæœ‰åœ¨æš«åœå¾Œæ‰æœƒæ›´æ–°ï¼Œä½¿ç”¨è€…æ°¸é çœ‹ä¸åˆ°æ­£ç¢ºåˆå§‹æ™‚é–“
- **ä½¿ç”¨è€…é«”é©—**ï¼šå¦‚æœä½¿ç”¨è€…å¾æœªæŒ‰é ESCï¼Œæ™‚é˜æ°¸é ä¸æœƒé¡¯ç¤ºæ­£ç¢ºæ™‚é–“

**å¦‚ä½•ä¿®æ­£**ï¼š
```javascript
// æ”¹ç‚ºåœ¨éœ€è¦æ™‚æ‰å•Ÿå‹•/åœæ­¢ interval
let clockInterval = null;

function togglePause() {
  if (state === GameState.PLAYING) {
    state = GameState.PAUSED;
    currentGame.pause();
    widget.classList.add('hidden');
    updateClock(); // ç«‹å³æ›´æ–°ä¸€æ¬¡
    // å•Ÿå‹•æ™‚é˜æ›´æ–°
    clockInterval = setInterval(updateClock, CLOCK_UPDATE_INTERVAL);
  } else if (state === GameState.PAUSED) {
    state = GameState.PLAYING;
    widget.classList.remove('hidden');
    currentGame.resume();
    // åœæ­¢æ™‚é˜æ›´æ–°
    if (clockInterval) {
      clearInterval(clockInterval);
      clockInterval = null;
    }
  }
}
```

---

## ğŸŸ¡ ä¸­å„ªå…ˆç´šå•é¡Œ

### [M01] éŠæˆ²ç‹€æ…‹ç®¡ç†ä¸ä¸€è‡´
**é¡åˆ¥**ï¼šBug/æ­£ç¢ºæ€§
**åš´é‡åº¦**ï¼šä¸­
**ä½ç½®**ï¼š`game.js:24, 94, 125-131`

**å•é¡Œæè¿°**ï¼š
éŠæˆ²ç‹€æ…‹åœ¨å¤šè™•ç®¡ç†ï¼Œç¼ºä¹çµ±ä¸€çš„ç‹€æ…‹æ©Ÿï¼š
1. ä¸»æ§åˆ¶å™¨çš„ `state` è®Šæ•¸ï¼ˆ`game.js:24`ï¼‰
2. 2048 éŠæˆ²å…§éƒ¨çš„ `isGameOver` æ——æ¨™ï¼ˆ`games/game2048.js:50`ï¼‰
3. Snake éŠæˆ²ä¾è³´ `gameLoop` æ˜¯å¦ç‚º null åˆ¤æ–·åŸ·è¡Œç‹€æ…‹ï¼ˆ`games/snake.js:32, 100-102`ï¼‰

**ç‚ºä½•æ‡‰ä¿®æ­£**ï¼š
ç•¶åˆ‡æ›éŠæˆ²æ™‚ï¼Œå¯èƒ½å‡ºç¾ç‹€æ…‹ä¸åŒæ­¥ï¼š
- åœ¨ 2048 éŠæˆ²çµæŸå¾Œåˆ‡æ›åˆ°è²ªé£Ÿè›‡ï¼Œ`state` æ˜¯ `GAME_OVER` ä½†è²ªé£Ÿè›‡çš„ `gameLoop` å¯èƒ½å•Ÿå‹•
- `loadGame()` ç¸½æ˜¯è¨­å®š `state = GameState.READY`ï¼ˆLine 94ï¼‰ï¼Œå¿½ç•¥ç•¶å‰å¯¦éš›ç‹€æ…‹

**å¦‚ä½•ä¿®æ­£**ï¼š
çµ±ä¸€ç”±ä¸»æ§åˆ¶å™¨ç®¡ç†ç‹€æ…‹ï¼ŒéŠæˆ²æ¨¡çµ„åªè² è²¬éŠæˆ²é‚è¼¯ï¼š
```javascript
// game.js
function switchGame(gameId) {
  if (gameId === currentGameId) return;

  // åœæ­¢ç•¶å‰éŠæˆ²ä¸¦ä¿å­˜ç‹€æ…‹
  const wasPlaying = (state === GameState.PLAYING);
  if (currentGame && currentGame.pause) {
    currentGame.pause();
  }

  loadGame(gameId);

  // å¦‚æœä¹‹å‰åœ¨ç©ï¼Œè‡ªå‹•é–‹å§‹æ–°éŠæˆ²ï¼ˆå¯é¸ï¼‰
  if (wasPlaying) {
    // startGame(); // æˆ–ä¿æŒ READY ç‹€æ…‹ç”±ä½¿ç”¨è€…æ±ºå®š
  }

  // æ›´æ–° URL
  const url = new URL(window.location);
  url.searchParams.set('game', gameId);
  window.history.replaceState({}, '', url);
}
```

---

### [M02] çš®è†š HTML ä½¿ç”¨ `onclick="return false"` åæ¨¡å¼
**é¡åˆ¥**ï¼šå®‰å…¨æ€§ + å¯ç¶­è­·æ€§
**åš´é‡åº¦**ï¼šä¸­
**ä½ç½®**ï¼š`skins/google.js:32` ç­‰å¤šè™•

**å•é¡Œæè¿°**ï¼š
Google çš®è†šä¸­çš„å‡é€£çµä½¿ç”¨å…§è¯äº‹ä»¶è™•ç†å™¨ï¼š
```html
<a href="#" class="result-title" onclick="return false">2025 å¹´ AI åå¤§è¶¨å‹¢...</a>
```

**ç‚ºä½•æ‡‰ä¿®æ­£**ï¼š
1. **Content Security Policy é•è¦**ï¼šå¦‚æœæœªä¾†åŠ å…¥ CSP Headerï¼Œ`unsafe-inline` æœƒè¢«é˜»æ“‹
2. **å¯ç¶­è­·æ€§å·®**ï¼šé‚è¼¯æ•£è½åœ¨ HTML å­—ä¸²ä¸­
3. **ç„¡éšœç¤™å•é¡Œ**ï¼š`href="#"` æœƒå°è‡´è¢å¹•é–±è®€å™¨èª¤å ±ç‚ºæœ‰æ•ˆé€£çµ

**å¦‚ä½•ä¿®æ­£**ï¼š
```javascript
// æ–¹æ¡ˆ 1: ä½¿ç”¨ CSS pointer-events (æœ€ç°¡å–®)
// åœ¨ style.css åŠ å…¥
.result-title {
  pointer-events: none; // ç¦ç”¨æ‰€æœ‰äº’å‹•
  cursor: default;
}

// æ–¹æ¡ˆ 2: æ”¹ç”¨ <span> è€Œé <a>
<span class="result-title">2025 å¹´ AI åå¤§è¶¨å‹¢...</span>

// æ–¹æ¡ˆ 3: å¦‚æœéœ€è¦ä¿æŒèªæ„ï¼Œä½¿ç”¨ role
<a role="link" aria-disabled="true" class="result-title">...</a>
```

---

### [M03] 2048 éŠæˆ²ç¼ºå°‘éµç›¤é€£æ“Šä¿è­·
**é¡åˆ¥**ï¼šBug/æ­£ç¢ºæ€§
**åš´é‡åº¦**ï¼šä¸­
**ä½ç½®**ï¼š`games/game2048.js:84-115`

**å•é¡Œæè¿°**ï¼š
2048 æ˜¯å›åˆåˆ¶éŠæˆ²ï¼Œä½† `handleKey` æ²’æœ‰é˜²æ­¢ç©å®¶å¿«é€ŸæŒ‰éµå°è‡´çš„ä¸ä¸€è‡´ç‹€æ…‹ã€‚ä½¿ç”¨è€…å¯èƒ½åœ¨ä¸€æ¬¡ç§»å‹•çš„å‹•ç•«é‚„æ²’çµæŸæ™‚å°±æŒ‰ä¸‹ç¬¬äºŒå€‹æ–¹å‘éµã€‚

**ç‚ºä½•æ‡‰ä¿®æ­£**ï¼š
é›–ç„¶ç›®å‰æ²’æœ‰å‹•ç•«æ‰€ä»¥ä¸æœƒå‡ºå•é¡Œï¼Œä½†å¦‚æœæœªä¾†åŠ å…¥æ»‘å‹•å‹•ç•«ï¼Œå¿«é€ŸæŒ‰éµæœƒå°è‡´ï¼š
- å¤šæ¬¡ `addRandomTile()` å‘¼å«
- åˆ†æ•¸è¨ˆç®—éŒ¯èª¤
- éŠæˆ²ç‹€æ…‹ä¸ä¸€è‡´

**å¦‚ä½•ä¿®æ­£**ï¼š
```javascript
let isProcessingMove = false;

export function handleKey(key) {
  if (isGameOver || isProcessingMove) return false;

  isProcessingMove = true;
  let moved = false;

  switch (key) {
    case 'ArrowUp': moved = moveUp(); break;
    case 'ArrowDown': moved = moveDown(); break;
    case 'ArrowLeft': moved = moveLeft(); break;
    case 'ArrowRight': moved = moveRight(); break;
    default:
      isProcessingMove = false;
      return false;
  }

  if (moved) {
    addRandomTile();
    draw();
    if (checkGameOver()) {
      isGameOver = true;
      if (onGameOver) onGameOver();
    }
  }

  isProcessingMove = false;
  return true;
}
```

---

### [M04] Snake éŠæˆ²æ–¹å‘æ§åˆ¶å­˜åœ¨ 180 åº¦è½‰å‘æ¼æ´
**é¡åˆ¥**ï¼šBug/æ­£ç¢ºæ€§
**åš´é‡åº¦**ï¼šä¸­
**ä½ç½®**ï¼š`games/snake.js:81-98`

**å•é¡Œæè¿°**ï¼š
ç•¶å‰çš„åå‘æª¢æ¸¬é‚è¼¯æœ‰æ™‚åºæ¼æ´ï¼š
```javascript
export function handleKey(key) {
  // ...
  if (newDir !== opposites[direction]) {  // ä½¿ç”¨ direction è€Œé nextDirection
    nextDirection = newDir;
  }
  return true;
}
```

åœ¨å¿«é€Ÿé€£çºŒæŒ‰éµçš„æƒ…æ³ä¸‹ï¼ˆä¾‹å¦‚ï¼šå‘å³ç§»å‹•æ™‚å¿«é€ŸæŒ‰ã€Œä¸Šâ†’å·¦ã€ï¼‰ï¼Œå¯èƒ½ç™¼ç”Ÿï¼š
1. è›‡ç•¶å‰å‘å³ (`direction = 'right'`)
2. ä½¿ç”¨è€…æŒ‰ã€Œä¸Šã€â†’ `nextDirection = 'up'`ï¼ˆå…è¨±ï¼Œå› ç‚ºä¸Šâ‰ ä¸‹ï¼‰
3. åœ¨ `update()` åŸ·è¡Œå‰ï¼Œä½¿ç”¨è€…æŒ‰ã€Œå·¦ã€â†’ `nextDirection = 'left'`ï¼ˆå…è¨±ï¼Œå› ç‚º `direction` é‚„æ˜¯ `right`ï¼‰
4. `update()` åŸ·è¡Œï¼š`direction = nextDirection = 'left'`ï¼Œè›‡ç›´æ¥åå‘ç¢°æ’è‡ªå·±

**ç‚ºä½•æ‡‰ä¿®æ­£**ï¼š
é€™æœƒå°è‡´æ„å¤–çš„éŠæˆ²çµæŸï¼Œå°¤å…¶åœ¨ç©å®¶æ“ä½œå¿«é€Ÿæ™‚ã€‚ç¶“å…¸è²ªé£Ÿè›‡æ‡‰è©²ä½¿ç”¨ã€Œè¼¸å…¥ä½‡åˆ—ã€è€Œéå–®ä¸€ `nextDirection`ã€‚

**å¦‚ä½•ä¿®æ­£**ï¼š
```javascript
// æª¢æŸ¥æ™‚æ‡‰è©²ç”¨ nextDirection è€Œé direction
if (newDir !== opposites[nextDirection]) {  // ä¿®æ­£é€™è£¡
  nextDirection = newDir;
}
```

æˆ–ä½¿ç”¨æ›´ç©©å¥çš„ä½‡åˆ—ç³»çµ±ï¼ˆä½†å°é€™å€‹å°å°ˆæ¡ˆå¯èƒ½ over-engineeringï¼‰ã€‚

---

### [M05] CSS æ¨£å¼è¡¨éå¤§ä¸”æœªæ¨¡çµ„åŒ–
**é¡åˆ¥**ï¼šæ•ˆèƒ½ + å¯ç¶­è­·æ€§
**åš´é‡åº¦**ï¼šä¸­
**ä½ç½®**ï¼š`style.css` (1635 è¡Œå–®ä¸€æª”æ¡ˆ)

**å•é¡Œæè¿°**ï¼š
æ‰€æœ‰ 6 å€‹çš®è†šçš„æ¨£å¼éƒ½å¡åœ¨ä¸€å€‹ CSS æª”æ¡ˆä¸­ï¼Œä¸”å³ä½¿åªä½¿ç”¨ä¸€å€‹çš®è†šï¼Œç€è¦½å™¨ä»éœ€è§£æå…¨éƒ¨ 1635 è¡Œã€‚

**ç‚ºä½•æ‡‰ä¿®æ­£**ï¼š
- **é¦–æ¬¡è¼‰å…¥æ•ˆèƒ½**ï¼šè§£æ 1600+ è¡Œ CSS å¢åŠ  CSSOM æ§‹å»ºæ™‚é–“
- **å¯ç¶­è­·æ€§**ï¼šä¿®æ”¹ Jira çš®è†šæ™‚éœ€è¦åœ¨å·¨å¤§æª”æ¡ˆä¸­å°‹æ‰¾å°æ‡‰å€å¡Š
- **å¿«å–æ•ˆç‡ä½**ï¼šä¿®æ”¹ä»»ä¸€çš®è†šéƒ½æœƒå°è‡´æ•´å€‹ CSS æª”æ¡ˆå¿«å–å¤±æ•ˆ

**å¦‚ä½•ä¿®æ­£**ï¼š
```javascript
// æ–¹æ¡ˆ 1: å‹•æ…‹è¼‰å…¥çš®è†šå°æ‡‰çš„ CSS (æ¨è–¦)
// skins/google.js
export const id = 'google';
export const styleSheet = 'skins/google.css';  // æ–°å¢æ¬„ä½
export const html = `...`;

// game.js - loadSkin()
function loadSkin(skin) {
  // ç§»é™¤èˆŠçš„ skin stylesheet
  const oldLink = document.querySelector('link[data-skin]');
  if (oldLink) oldLink.remove();

  // åŠ å…¥æ–°çš„ skin stylesheet
  if (skin.styleSheet) {
    const link = document.createElement('link');
    link.rel = 'stylesheet';
    link.href = skin.styleSheet;
    link.dataset.skin = skin.id;
    document.head.appendChild(link);
  }

  skinContainer.innerHTML = `<div id="skin-${skin.id}" class="skin active">${skin.html}</div>`;
  // ...
}

// æ–¹æ¡ˆ 2: å°‡ CSS åµŒå…¥å„è‡ªçš„ JS æ¨¡çµ„ä¸­ (é©åˆå°å‹å°ˆæ¡ˆ)
export const styles = `
  .google-header { ... }
  // ... åªæœ‰é€™å€‹çš®è†šçš„æ¨£å¼
`;
```

---

### [M06] ç¼ºå°‘éŒ¯èª¤é‚Šç•Œå’Œç•°å¸¸è™•ç†
**é¡åˆ¥**ï¼šå¯ç¶­è­·æ€§
**åš´é‡åº¦**ï¼šä¸­
**ä½ç½®**ï¼šæ•´å€‹å°ˆæ¡ˆ

**å•é¡Œæè¿°**ï¼š
æ²’æœ‰å…¨åŸŸéŒ¯èª¤è™•ç†å™¨ï¼Œå¦‚æœéŠæˆ²é‚è¼¯æ‹‹å‡ºç•°å¸¸ï¼ˆä¾‹å¦‚ canvas context ç²å–å¤±æ•—ï¼‰ï¼Œæ•´å€‹æ‡‰ç”¨æœƒéœé»˜å¤±æ•—ã€‚

**å¦‚ä½•ä¿®æ­£**ï¼š
```javascript
// game.js æœ€ä¸Šæ–¹åŠ å…¥
window.addEventListener('error', (event) => {
  console.error('éŠæˆ²ç™¼ç”ŸéŒ¯èª¤:', event.error);
  messageDisplay.textContent = 'éŠæˆ²ç™¼ç”ŸéŒ¯èª¤ï¼Œè«‹é‡æ–°æ•´ç†é é¢';
  if (currentGame && currentGame.pause) {
    currentGame.pause();
  }
});

// åœ¨ init å‡½å¼ä¸­åŠ å…¥ null æª¢æŸ¥
export function init(canvasEl, callbacks) {
  canvas = canvasEl;
  if (!canvas) {
    throw new Error('Canvas element not found');
  }
  ctx = canvas.getContext('2d');
  if (!ctx) {
    throw new Error('Failed to get 2D context');
  }
  // ...
}
```

---

## ğŸŸ¢ ä½å„ªå…ˆç´šå•é¡Œ

### [L01] å¸¸æ•¸å‘½åä¸ä¸€è‡´
**é¡åˆ¥**ï¼šç¨‹å¼ç¢¼ç•°å‘³
**åš´é‡åº¦**ï¼šä½
**ä½ç½®**ï¼š`games/snake.js:6-24`, `games/game2048.js:6-41`

**å•é¡Œæè¿°**ï¼š
Snake ä½¿ç”¨ `CANVAS_SIZE`, `GRID_COUNT` ç­‰å…¨å¤§å¯«ï¼Œä½† 2048 æ··ç”¨ `GRID_SIZE`ï¼ˆå¤§å¯«ï¼‰å’Œ `TILE_GAP`ï¼ˆå¤§å¯«ï¼‰ï¼Œè€Œ `COLORS` å…§éƒ¨åˆç”¨é§å³°å¼ã€‚

**å»ºè­°æ”¹é€²**ï¼š
çµ±ä¸€ä½¿ç”¨ `SCREAMING_SNAKE_CASE` ä½œç‚ºå¸¸æ•¸å‘½åã€‚

---

### [L02] Magic Numbers æ•£è½ç¨‹å¼ç¢¼ä¸­
**é¡åˆ¥**ï¼šç¨‹å¼ç¢¼ç•°å‘³
**åš´é‡åº¦**ï¼šä½
**ä½ç½®**ï¼š`game.js:176-234`, `games/game2048.js:268`

**å•é¡Œæè¿°**ï¼š
```javascript
// game.js:231 - ä»€éº¼æ˜¯ SKINS[e.key]ï¼Ÿç‚ºä½•ç”¨æ•¸å­—éµï¼Ÿ
if (state === GameState.GAME_OVER && !SKINS[e.key] && !e.shiftKey) {
  startGame();
}

// game2048.js:268 - ç‚ºä½•æ˜¯ TILE_GAP è€Œé TILE_GAP / 2ï¼Ÿ
roundRect(ctx, x, y, TILE_SIZE - TILE_GAP, TILE_SIZE - TILE_GAP, TILE_BORDER_RADIUS);
```

**å»ºè­°æ”¹é€²**ï¼š
åŠ ä¸Šè¨»è§£èªªæ˜é‚è¼¯ï¼Œæˆ–æŠ½å–ç‚ºæœ‰æ„ç¾©çš„å‡½å¼/è®Šæ•¸ï¼š
```javascript
const isSkinSwitchKey = (key) => SKINS.hasOwnProperty(key);

if (state === GameState.GAME_OVER && !isSkinSwitchKey(e.key) && !e.shiftKey) {
  startGame();
}
```

---

### [L03] 2048 é£Ÿç‰©é¡è‰²ç¼ºå°‘ 2048 ä»¥ä¸Šçš„å®šç¾©
**é¡åˆ¥**ï¼šBug/æ­£ç¢ºæ€§
**åš´é‡åº¦**ï¼šä½
**ä½ç½®**ï¼š`games/game2048.js:28-41, 264, 273`

**å•é¡Œæè¿°**ï¼š
```javascript
const COLORS = {
  tiles: {
    2: { bg: '#eee4da', text: '#776e65' },
    // ...
    2048: { bg: '#edc22e', text: '#f9f6f2' }
    // æ²’æœ‰ 4096, 8192, 16384 ç­‰
  }
};

// Line 264, 273
const tileColor = COLORS.tiles[value] || COLORS.tiles[2048];  // fallback åˆ° 2048
```

**ç‚ºä½•è€ƒæ…®ä¿®æ­£**ï¼š
é›–ç„¶é”åˆ° 4096+ çš„æ©Ÿç‡æ¥µä½ï¼Œä½†ç•¶ç©å®¶çœŸçš„é”æˆæ™‚ï¼Œæ‰€æœ‰è¶…é 2048 çš„æ–¹å¡Šéƒ½æœƒé¡¯ç¤ºç›¸åŒé¡è‰²ï¼Œç¼ºä¹è¦–è¦ºå€åˆ†ã€‚

**å»ºè­°æ”¹é€²**ï¼š
```javascript
// å‹•æ…‹ç”¢ç”Ÿé¡è‰²
function getTileColor(value) {
  if (COLORS.tiles[value]) return COLORS.tiles[value];

  // è¶…é 2048 çš„æ–¹å¡Šæ¼¸å±¤è‰²
  const level = Math.log2(value) - 11; // 4096=1, 8192=2, ...
  const hue = 45 - level * 10; // é‡‘è‰²å¾€ç´…è‰²æ¼¸è®Š
  return {
    bg: `hsl(${hue}, 70%, 50%)`,
    text: '#f9f6f2'
  };
}
```

---

### [L04] çš®è†šæ¨¡çµ„ç¼ºå°‘è¼¸å…¥é©—è­‰
**é¡åˆ¥**ï¼šå¯ç¶­è­·æ€§
**åš´é‡åº¦**ï¼šä½
**ä½ç½®**ï¼š`game.js:69-74`

**å•é¡Œæè¿°**ï¼š
```javascript
function loadSkin(skin) {
  skinContainer.innerHTML = `<div id="skin-${skin.id}" class="skin active">${skin.html}</div>`;
  // æ²’æœ‰æª¢æŸ¥ skin.id æˆ– skin.html æ˜¯å¦å­˜åœ¨
}
```

å¦‚æœçš®è†šæ¨¡çµ„æ ¼å¼éŒ¯èª¤ï¼Œæœƒå°è‡´ `undefined` è¢«æ’å…¥ DOMã€‚

**å»ºè­°æ”¹é€²**ï¼š
```javascript
function loadSkin(skin) {
  if (!skin || !skin.id || !skin.html) {
    console.error('Invalid skin object:', skin);
    return;
  }
  // ...
}
```

---

### [L05] CSS é¸æ“‡å™¨æ•ˆç‡å•é¡Œ
**é¡åˆ¥**ï¼šæ•ˆèƒ½
**åš´é‡åº¦**ï¼šä½
**ä½ç½®**ï¼š`style.css` å¤šè™•

**å•é¡Œæè¿°**ï¼š
éƒ¨åˆ†é¸æ“‡å™¨éæ–¼å…·é«”ï¼Œå¢åŠ  CSSOM åŒ¹é…é–‹éŠ·ï¼š
```css
/* Line 1180 */
.notion-block.todo span:last-child { ... }

/* å¯ç°¡åŒ–ç‚º */
.notion-todo-text { ... }
```

**å»ºè­°æ”¹é€²**ï¼š
é›–ç„¶å½±éŸ¿å¾®ä¹å…¶å¾®ï¼ˆåªæœ‰ 220x220 çš„å° widgetï¼‰ï¼Œä½†é¤Šæˆä½¿ç”¨æ‰å¹³é¸æ“‡å™¨çš„ç¿’æ…£æœ‰åŠ©æ–¼å¤§å‹å°ˆæ¡ˆã€‚

---

### [L06] ç¼ºå°‘ TypeScript æˆ– JSDoc å‹åˆ¥è¨»è§£
**é¡åˆ¥**ï¼šå¯ç¶­è­·æ€§
**åš´é‡åº¦**ï¼šä½
**ä½ç½®**ï¼šæ‰€æœ‰ `.js` æª”æ¡ˆ

**å•é¡Œæè¿°**ï¼š
éŠæˆ²æ¨¡çµ„çš„ `init()` å’Œ `handleKey()` ç­‰å…¬é–‹ API ç¼ºå°‘å‹åˆ¥å®šç¾©ï¼Œä½¿ç”¨è€…ï¼ˆæˆ–æœªä¾†çš„ä½ ï¼‰ä¸çŸ¥é“è©²å‚³ä»€éº¼åƒæ•¸ã€‚

**å»ºè­°æ”¹é€²**ï¼š
```javascript
/**
 * åˆå§‹åŒ–éŠæˆ²
 * @param {HTMLCanvasElement} canvasEl - Canvas å…ƒç´ 
 * @param {Object} callbacks - å›å‘¼å‡½å¼
 * @param {(score: number) => void} callbacks.onScoreChange - åˆ†æ•¸è®ŠåŒ–æ™‚å‘¼å«
 * @param {() => void} callbacks.onGameOver - éŠæˆ²çµæŸæ™‚å‘¼å«
 */
export function init(canvasEl, callbacks) {
  // ...
}
```

æˆ–ç›´æ¥é·ç§»åˆ° TypeScriptï¼ˆä½†é€™å¯èƒ½è¶…å‡ºå°ˆæ¡ˆç¯„ç–‡ï¼‰ã€‚

---

### [L07] æœªä½¿ç”¨ `requestAnimationFrame` æ¸²æŸ“
**é¡åˆ¥**ï¼šæ•ˆèƒ½
**åš´é‡åº¦**ï¼šä½
**ä½ç½®**ï¼š`games/snake.js:65`, `games/game2048.js:73`

**å•é¡Œæè¿°**ï¼š
è²ªé£Ÿè›‡ä½¿ç”¨ `setInterval(update, 150)` è€Œé `requestAnimationFrame`ï¼Œå¯èƒ½å°è‡´ï¼š
- ç€è¦½å™¨ tab åœ¨èƒŒæ™¯æ™‚ä»ç„¶åŸ·è¡Œï¼ˆæµªè²»è³‡æºï¼‰
- æ¸²æŸ“èˆ‡è¢å¹•æ›´æ–°ç‡ä¸åŒæ­¥ï¼ˆé›–ç„¶ 150ms æ…¢åˆ°çœ‹ä¸å‡ºå·®ç•°ï¼‰

**å»ºè­°æ”¹é€²**ï¼š
```javascript
let lastFrameTime = 0;

function gameLoop(timestamp) {
  if (!gameLoopActive) return;

  if (timestamp - lastFrameTime >= GAME_SPEED) {
    update();
    lastFrameTime = timestamp;
  }

  requestAnimationFrame(gameLoop);
}

export function start() {
  if (gameLoopActive) return;
  gameLoopActive = true;
  lastFrameTime = performance.now();
  requestAnimationFrame(gameLoop);
}
```

ä½†å°æ–¼é€™å€‹å°å°ˆæ¡ˆï¼Œä½¿ç”¨ `setInterval` æ˜¯å¯æ¥å—çš„æ¬Šè¡¡ã€‚

---

### [L08] è¨»è§£èˆ‡å¯¦éš›ç¨‹å¼ç¢¼ä¸ç¬¦
**é¡åˆ¥**ï¼šå¯ç¶­è­·æ€§
**åš´é‡åº¦**ï¼šä½
**ä½ç½®**ï¼š`games/snake.js:48`

**å•é¡Œæè¿°**ï¼š
```javascript
// åˆå§‹è›‡ä½ç½®ï¼šå¾ä¸­å¿ƒé»å‘å·¦å»¶ä¼¸
const centerX = Math.floor(GRID_COUNT / 2);
const centerY = Math.floor(GRID_COUNT / 2);
snake = [];
for (let i = 0; i < INITIAL_SNAKE_LENGTH; i++) {
  snake.push({ x: centerX - i, y: centerY });  // æ­£ç¢ºï¼šå‘å·¦å»¶ä¼¸
}
```

è¨»è§£æ­£ç¢ºï¼Œä½†å¦‚æœæœ‰äººèª¤è§£ã€Œå‘å·¦ã€çš„æ„æ€ï¼ˆä»¥ç‚ºæ˜¯è¢å¹•å·¦é‚Šï¼‰ï¼Œå»ºè­°æ”¹ç‚ºï¼š
```javascript
// åˆå§‹è›‡ä½ç½®ï¼šé ­éƒ¨åœ¨ä¸­å¿ƒï¼Œèº«é«”å‘å·¦ï¼ˆè²  X æ–¹å‘ï¼‰å»¶ä¼¸
```

---

## ğŸ† ç¨‹å¼ç¢¼å„ªé»

å€¼å¾—è‚¯å®šçš„è¨­è¨ˆå’Œå¯¦ä½œï¼š

### âœ… æ¨¡çµ„åŒ–æ¶æ§‹å„ªç§€
- **çš®è†šç³»çµ±**ï¼šä½¿ç”¨ ES6 æ¨¡çµ„ï¼Œæ¯å€‹çš®è†šæ˜¯ç¨ç«‹çš„ `{ id, title, html }` ç‰©ä»¶ï¼Œæ˜“æ–¼æ“´å……æ–°çš®è†š
- **éŠæˆ²ç³»çµ±**ï¼šéŠæˆ²é‚è¼¯å®Œå…¨å°è£ï¼Œä¸»æ§åˆ¶å™¨é€éçµ±ä¸€ä»‹é¢ `{ init, start, pause, resume, handleKey }` äº’å‹•
- **é—œæ³¨é»åˆ†é›¢**ï¼šéŠæˆ²é‚è¼¯ã€æ¸²æŸ“ã€ä½¿ç”¨è€…è¼¸å…¥å®Œå…¨åˆ†é›¢

### âœ… ä½¿ç”¨è€…é«”é©—ç´°ç¯€
- **URL åƒæ•¸è¼‰å…¥éŠæˆ²**ï¼šé‡æ–°æ•´ç†é é¢æ™‚ä¿æŒéŠæˆ²é¸æ“‡ (`?game=2048`)
- **ESC éš±è—åˆ‡æ›æ™‚é˜**ï¼šå½è£éœ€æ±‚çš„å·§æ€
- **Shift+G å¾ªç’°åˆ‡æ›éŠæˆ²**ï¼šå¿«æ·éµè¨­è¨ˆåˆç†

### âœ… ç¨‹å¼ç¢¼å¯è®€æ€§ä½³
- å¸¸æ•¸å‘½åæ¸…æ™°ï¼ˆ`GRID_COUNT`, `GAME_SPEED`, `COLORS`ï¼‰
- å‡½å¼å‘½åç¬¦åˆèªæ„ï¼ˆ`spawnFood()`, `checkCollision()`, `slideAndMerge()`ï¼‰
- é‚è¼¯åˆ†æ®µæ˜ç¢ºï¼ˆ`========== Section ==========` è¨»è§£ï¼‰

### âœ… 2048 éŠæˆ²é‚è¼¯å¯¦ä½œæ­£ç¢º
- `slideAndMerge()` å‡½å¼å®Œç¾è™•ç†æ–¹å‘ã€åˆä½µã€è£œé›¶é‚è¼¯
- éŠæˆ²çµæŸåˆ¤å®šåŒæ™‚æª¢æŸ¥ã€Œç„¡ç©ºæ ¼ã€å’Œã€Œç„¡å¯åˆä½µæ–¹å¡Šã€
- æ”¯æ´å››å€‹æ–¹å‘çš„ç§»å‹•ï¼ˆé€é reverse æŠ€å·§é¿å…é‡è¤‡ç¨‹å¼ç¢¼ï¼‰

### âœ… Canvas æ¸²æŸ“æ•ˆç‡
- ä½¿ç”¨å–®ä¸€ `fillRect` å’Œ `arc` å‘¼å«ï¼Œé¿å…ç‹€æ…‹åˆ‡æ›
- é¡è‰²å¸¸æ•¸é å®šç¾©ï¼Œä¸åœ¨æ¸²æŸ“è¿´åœˆä¸­è¨ˆç®—

---

## ğŸ“Š ç¨‹å¼ç¢¼å“è³ªæŒ‡æ¨™

### è¤‡é›œåº¦åˆ†æ
| æª”æ¡ˆ | è¡Œæ•¸ | å¾ªç’°è¤‡é›œåº¦ | å·¢ç‹€æ·±åº¦ | è©•ä¼° |
|------|------|----------|----------|------|
| game.js | 240 | ~12 | 3 | è‰¯å¥½ |
| snake.js | 201 | ~8 | 2 | å„ªç§€ |
| game2048.js | 301 | ~15 | 3 | è‰¯å¥½ |
| style.css | 1635 | N/A | 2-3 | å¯æ¥å—ï¼ˆä½†æ‡‰æ‹†åˆ†ï¼‰ |

### åµæ¸¬åˆ°çš„ç¨‹å¼ç¢¼ç•°å‘³
| ç•°å‘³ | æ•¸é‡ | ä½ç½® |
|------|------|------|
| é•·å‡½å¼ (>50 è¡Œ) | 2 | `game2048.js:draw()`, `game.js:keydown äº‹ä»¶` |
| æ·±å·¢ç‹€ (>3 å±¤) | 0 | - |
| Magic Numbers | 8 | `game.js:231`, `games/*.js` å¤šè™• |
| é‡è¤‡ç¨‹å¼ç¢¼ | 1 | å››å€‹ç§»å‹•æ–¹å‘å‡½å¼ï¼ˆ2048ï¼‰ |
| God Function | 1 | `keydown` äº‹ä»¶è™•ç†å™¨ï¼ˆ76 è¡Œï¼‰ |

---

## ğŸ›¡ï¸ å®‰å…¨æ€§è©•ä¼°
**å®‰å…¨æ…‹å‹¢**ï¼šè‰¯å¥½ï¼ˆä½é¢¨éšªæ‡‰ç”¨ï¼‰

### OWASP Top 10 æª¢æŸ¥
| é¡åˆ¥ | ç‹€æ…‹ | å‚™è¨» |
|------|------|------|
| A01 å­˜å–æ§åˆ¶ | âœ… | N/Aï¼ˆç„¡å¾Œç«¯ï¼‰ |
| A02 åŠ å¯†å¤±æ•ˆ | âœ… | ç„¡æ•æ„Ÿè³‡æ–™è™•ç† |
| A03 æ³¨å…¥æ”»æ“Š | âš ï¸ | **innerHTML é¢¨éšª**ï¼ˆè¦‹ M02ï¼‰ |
| A04 ä¸å®‰å…¨è¨­è¨ˆ | âœ… | è¨­è¨ˆç°¡å–®ç„¡è¤‡é›œé‚è¼¯ |
| A05 å®‰å…¨é…ç½®éŒ¯èª¤ | âœ… | ç´”å‰ç«¯ç„¡ä¼ºæœå™¨é…ç½® |
| A06 æ˜“å—æ”»æ“Šå…ƒä»¶ | âœ… | ç„¡ç¬¬ä¸‰æ–¹ç›¸ä¾å¥—ä»¶ |
| A07 èº«åˆ†é©—è­‰å¤±æ•ˆ | âœ… | N/A |
| A08 è³‡æ–™å®Œæ•´æ€§å¤±æ•ˆ | âœ… | N/A |
| A09 è¨˜éŒ„å¤±æ•ˆ | âš ï¸ | ç„¡éŒ¯èª¤è¨˜éŒ„æ©Ÿåˆ¶ |
| A10 SSRF | âœ… | N/A |

### æ½›åœ¨ XSS é¢¨éšª
**ä½ç½®**ï¼š`game.js:70`
```javascript
skinContainer.innerHTML = `<div id="skin-${skin.id}" class="skin active">${skin.html}</div>`;
```

**é¢¨éšªè©•ä¼°**ï¼šä½ï¼ˆå› ç‚º `skin.id` å’Œ `skin.html` ä¾†è‡ªå…§éƒ¨æ¨¡çµ„ï¼Œä¸æ˜¯ä½¿ç”¨è€…è¼¸å…¥ï¼‰

**å¦‚æœæœªä¾†å¾å¤–éƒ¨è¼‰å…¥çš®è†š**ï¼Œå¿…é ˆæ”¹ç”¨ `textContent` æˆ– DOMPurify æ¸…ç†ã€‚

---

## ğŸ“‹ ä¿®æ­£è¡Œå‹•æ‘˜è¦

### å¿…é ˆä¿®æ­£ï¼ˆä¸Šç·šå‰ï¼‰
- [ ] [H02] ä¿®æ­£æ™‚é˜æ›´æ–°æ©Ÿåˆ¶ï¼ˆé¿å…è³‡æºæµªè²»å’Œåˆå§‹åŒ–å•é¡Œï¼‰

### æ‡‰è©²ä¿®æ­£ï¼ˆæœ¬é€±å…§ï¼‰
- [ ] [M01] çµ±ä¸€éŠæˆ²ç‹€æ…‹ç®¡ç†é‚è¼¯
- [ ] [M02] ç§»é™¤ `onclick="return false"` åæ¨¡å¼
- [ ] [M03] 2048 åŠ å…¥éµç›¤é€£æ“Šä¿è­·
- [ ] [M04] ä¿®æ­£ Snake æ–¹å‘æ§åˆ¶é‚è¼¯

### è¨ˆç•«ä¿®æ­£ï¼ˆæŠ€è¡“å‚µå‹™ï¼‰
- [ ] [M05] æ‹†åˆ† CSS æª”æ¡ˆç‚ºæ¨¡çµ„åŒ–è¼‰å…¥
- [ ] [M06] åŠ å…¥å…¨åŸŸéŒ¯èª¤è™•ç†å™¨
- [ ] [L01-L08] ä½å„ªå…ˆç´šæ”¹é€²ï¼ˆç¨‹å¼ç¢¼é¢¨æ ¼çµ±ä¸€ã€è¨»è§£å®Œå–„ï¼‰

### è€ƒæ…®å¯¦ä½œï¼ˆå¯é¸ï¼‰
- [ ] [L06] é·ç§»åˆ° TypeScript æˆ–åŠ å…¥ JSDoc
- [ ] [L07] ä½¿ç”¨ `requestAnimationFrame` æ›¿æ› `setInterval`
- [ ] åŠ å…¥å–®å…ƒæ¸¬è©¦ï¼ˆ`slideAndMerge`, `checkCollision` ç­‰æ ¸å¿ƒé‚è¼¯ï¼‰

---

## ğŸ“š å­¸ç¿’ç­†è¨˜èˆ‡æœ€ä½³å¯¦è¸

### é€™å€‹å°ˆæ¡ˆå±•ç¤ºçš„è‰¯å¥½æ¨¡å¼
1. **æ’ä»¶æ¶æ§‹**ï¼šçš®è†šå’ŒéŠæˆ²éƒ½æ˜¯å¯æ’æ‹”æ¨¡çµ„ï¼Œç¬¦åˆé–‹æ”¾å°é–‰åŸå‰‡ï¼ˆOCPï¼‰
2. **å›å‘¼å‡½å¼è§£è€¦**ï¼šéŠæˆ²ä¸ç›´æ¥æ“ä½œ DOMï¼Œè€Œæ˜¯é€é `onScoreChange` / `onGameOver` å›å‘¼
3. **ES6 æ¨¡çµ„**ï¼šé¿å…å…¨åŸŸå‘½åç©ºé–“æ±¡æŸ“

### å¯æ”¹é€²çš„æ¨¡å¼
1. **ç‹€æ…‹ç®¡ç†**ï¼šè€ƒæ…®ä½¿ç”¨ç°¡å–®çš„ç‹€æ…‹æ©Ÿå‡½å¼åº«ï¼ˆå¦‚ XStateï¼‰ï¼Œæˆ–è‡³å°‘é›†ä¸­ç®¡ç†ç‹€æ…‹è½‰æ›
2. **äº‹ä»¶åŒ¯æµæ’**ï¼šå–ä»£å¤šå±¤å›å‘¼ï¼Œä½¿ç”¨ EventEmitter æ¨¡å¼è§£è€¦é€šè¨Š
3. **é…ç½®é©…å‹•**ï¼šå°‡éŠæˆ²åƒæ•¸ï¼ˆé€Ÿåº¦ã€é¡è‰²ã€å¤§å°ï¼‰æŠ½å–ç‚ºå¯é…ç½®ç‰©ä»¶

### æ¨è–¦å»¶ä¼¸é–±è®€
- **Game Programming Patterns** by Robert Nystromï¼ˆå°¤å…¶æ˜¯ Game Loop å’Œ State ç« ç¯€ï¼‰
- **Clean Code** by Robert C. Martinï¼ˆå‡½å¼å‘½åèˆ‡å–®ä¸€è·è²¬ï¼‰
- MDN: Using requestAnimationFrame for game loops

---

*å ±å‘Šç”± Claude Code Review Expert ç”¢ç”Ÿ*
*å¯©æŸ¥æ–¹æ³•åŸºæ–¼ OWASPã€SOLID åŸå‰‡å’Œæ¥­ç•Œæœ€ä½³å¯¦è¸*
